<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>My First TerminusDB Graph Visualisation — Bike Share Data | TerminusDB Blog - News and Tutorials</title><meta name="description" content="News and tutorials of TerminusDB. "><meta itemprop="name" content="TerminusDB"><meta itemprop="description" content="News and tutorials of TerminusDB. "><meta itemprop="image" content="https://terminusdb.github.io/terminusdb-blog//assets/images/cowduck_sitting_logo.jpg"><meta property="og:url" content="https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/"><meta property="og:type" content="website"><meta property="og:title" content="My First TerminusDB Graph Visualisation — Bike Share Data | TerminusDB Blog - News and Tutorials"><meta property="og:site_name" content="TerminusDB Blog - News and Tutorials"><meta property="og:description" content="News and tutorials of TerminusDB. "><meta property="og:image" content="https://terminusdb.github.io/terminusdb-blog//assets/images/cowduck_sitting_logo.jpg"><meta name="twitter:url" content="https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="My First TerminusDB Graph Visualisation — Bike Share Data | TerminusDB Blog - News and Tutorials"><meta name="twitter:site" content="TerminusDB Blog - News and Tutorials"><meta name="twitter:description" content="News and tutorials of TerminusDB. "><meta name="twitter:creator" content="@TerminusDB"><meta property="twitter:image" content="https://terminusdb.github.io/terminusdb-blog//assets/images/cowduck_sitting_logo.jpg"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="TerminusDB Blog - News and Tutorials" href="/feed.xml"><link rel="canonical" href="/2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/"></head><body id="my-first-terminusdb-graph-visualisation-bike-share-data" class="post-layout"><header class="header"> <a class="header__title" href="https://terminusdb.github.io/terminusdb-blog//">TerminusDB Blog - News and Tutorials</a><nav><ul class="header__list"><li><a href="/">Stories</a></li><li><a href="/style-guide">Style Guide</a></li><li><span class="popup__open">Contact</span></li></ul></nav></header><main class="💈"><div class="post"><article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding--double"><div class="grid-small"><h2 itemprop="name headline">My First TerminusDB Graph Visualisation — Bike Share Data</h2><time class="post__date" datetime="2020-01-14T00:00:00+00:00" itemprop="datePublished">14 Jan 2020</time></div></div><div class="post__img"><div><figure class="absolute-bg" style="background-image: url('https://miro.medium.com/max/10944/1*wHpEF7tcwMY0OqIC33mxKA.jpeg');"></figure></div></div><div class="post__content section-padding"><div class="grid"><div id="markdown" itemprop="articleBody"><p>In this tutorial, we will start using TerminusDB and its query client — WOQL.js — to quickly build a database and a schema; import and organise data; create a visualisation; and plug it in to your website.</p><p>We’re assuming you already have TerminusDB installed, but if you haven’t go to our <a href="https://github.com/terminusdb/terminus-quickstart">quick start installation guide</a>. It’s very easy to get started.</p><p>In this tutorial, we are going to import data from CSVs about bike journeys between stations in Washington D.C., USA, build a knowledge graph from the data, analyse and visualise it. The data is taken from Capital Bike Share (available here — thanks folks!) and the CSV data used this tutorial is available at <a href="https://terminusdb.com/t/data/bike_tutorial.csv">https://terminusdb.com/t/data/bike_tutorial.csv</a></p><hr /><h2 id="lets-create-a-database">Let’s Create a Database</h2><p>The first thing we need to do is to create a database for our graph. Open up the Terminus DB console ( default: http://localhost:6363/console ). Click on <code class="highlighter-rouge">Create Database</code> to start with.</p><p>You can specify an id for the database, to make it memorable, let’s make it <code class="highlighter-rouge">1stdb</code> (note that Terminus IDs are URLs and they cannot have spaces!). As a title, enter the name you want to give your Database, something meaningful like <code class="highlighter-rouge">My First Database</code>. Then you can add a short description to your database, like <code class="highlighter-rouge">It is my first database using TerminusDB</code>.</p><p><img src="https://miro.medium.com/max/2232/1*_05f3gD0v45a-Xncpv1SUQ.png" alt="Create Database" /></p><p>Click the <code class="highlighter-rouge">Create</code> button at the bottom, and you should see the <code class="highlighter-rouge">Successfully Created Database</code> 1stDB in green at the top. Something like this:</p><p><img src="https://miro.medium.com/max/2096/1*iDole0nJP9PpxQHCkzaUBw.png" alt="Successfully created Database" /></p><p>Now we have a database, let’s have a look at the data we want to import. Click on the <code class="highlighter-rouge">Query</code> link in the left hand menu and you should see a query page that looks like the screen below.</p><hr /><h2 id="lets-preview-the-data">Let’s Preview the Data</h2><p><img src="https://miro.medium.com/max/3490/1*ayRgYyCY2-yUOTrhJZxURA.png" alt="TerminusDB Query Page" /></p><p>TerminusDB has a powerful query language called WOQL (Web Object Query Language) which supports Javascript and Python as well as pure JSON. In this case we will use WOQL.js as we can input it directly into the console. One of the nice things about WOQL is that we can query directly from remote CSV files anywhere on the web. Copy the following query into the console and click <code class="highlighter-rouge">Submit</code>:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Member type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Member_Type</span><span class="dl">"</span><span class="p">)</span>
<span class="p">).</span><span class="nx">remote</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://terminusdb.com/t/data/bike_tutorial.csv</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div><p>You should see a result that looks like the screen below:</p><p><img src="https://miro.medium.com/max/4910/1*ylh1o-If4F5AMQTSZq1bQQ.png" alt="CSV Preview Result Screen" /></p><p>This query reads data directly from the CSV — <code class="highlighter-rouge">remote</code> specifies the location of the CSV and <code class="highlighter-rouge">get</code> specifies how the columns in the CSV should be loaded into WOQL variables. The <code class="highlighter-rouge">get</code> takes 2 lists as parameters: the 1st is the title of the column in the CSV, while the 2nd is the name of a variable that we can use to refer to the data in that column in other parts of the query. In technical terms we are binding the variables, for example <code class="highlighter-rouge">v:Start_Station</code> is bound to the data in the column with the header “Start Station” (WOQL variables always start with v: and can’t contain spaces).</p><p>This query allows us to preview the data without importing it, but if we want to really analyse, we need to import it into our TerminusDB database. The first step is to create a schema to govern the structure of the data that we will store.</p><hr /><h2 id="lets-create-a-schema">Let’s Create a Schema</h2><p>Now that we have had a look at the data, we have a good idea of what we want in our graph and we can build a schema for our database.</p><p>The schema allows you to organise data into meaningful objects, and it ensures data integrity — nothing goes into your database that is not in the schema. This is a TerminusDB super power — and ensures you derive long term value from your data.</p><p>The TerminusDB Console provides a schema editor using WOQL.js. Remaining on the query page, copy this WOQL.js query into the text box (remember to delete the previous query before entering this one):</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">and</span><span class="p">(</span>         
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike Station</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">A station where bicycles are deposited</span><span class="dl">"</span><span class="p">),</span>         
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">),</span>         
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start Station</span><span class="dl">"</span><span class="p">)</span>             
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">End Station</span><span class="dl">"</span><span class="p">)</span>                                                
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">integer</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey Duration</span><span class="dl">"</span><span class="p">)</span>         
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dateTime</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Time Started</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dateTime</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Time Ended</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle Used</span><span class="dl">"</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div><p>and click <code class="highlighter-rouge">Submit</code></p><p>Let’s stop to review this schema-building WOQL query:</p><ol><li>The when will perform the operation for every time its first argument istrue. In this case, exactly once.</li><li>We perform all operations within the and.</li></ol><p>So here’s the operations we have performed:</p><ol><li>We created three different document types (given by the <code class="highlighter-rouge">doctype</code> function): <code class="highlighter-rouge">Station</code> , <code class="highlighter-rouge">Journey</code> and <code class="highlighter-rouge">Bicycle</code></li><li>We added <code class="highlighter-rouge">label</code> (names) or <code class="highlighter-rouge">description</code> (short descriptions) to them.</li><li>We created properties for <code class="highlighter-rouge">Journey</code>, we do that by using the <code class="highlighter-rouge">property</code> function after <code class="highlighter-rouge">Journey</code> with the first argument as the name of the property and the second argument as the type (or range) of the property.</li><li>For each property, you have to provide an id and the type of that property in <code class="highlighter-rouge">property</code>, as with class you can add a <code class="highlighter-rouge">label</code> to it as well.</li></ol><p>Check that you have successfully created the schema by clicking the Schema button on the left. You should now be able to see the classes and properties in table format and get a graph representation by clicking the ‘graph’ button (circled in red):</p><p><img src="https://miro.medium.com/max/2756/1*1e2iw6CJnWm3NWTFuc9HKw.png" alt="showing classes in schema" /></p><p><img src="https://miro.medium.com/max/2780/1*x95n_XNGsO5-pNJci1iTJA.png" alt="graph of the classes in schema" /></p><p><img src="https://miro.medium.com/max/2754/1*ty448DHo8KcoUsFZGJ8n_Q.png" alt="showing properties in schema" /></p><p><img src="https://miro.medium.com/max/2736/1*xY5-Liid961dk1T-GfuE3g.png" alt="graph of the properties in schema" /></p><hr /><h2 id="lets-load-in-the-data">Let’s Load in the Data</h2><p>Now let’s get to the good part. We have our schema, which defines the shape of the data and ensures data integrity.</p><p>We’ll now load the data from the CSV. We’re going to progressively extend the query to import the data, cleaning it and matching it as we go. WOQL is a highly composable language, you can combine queries arbitrarily using logical ANDs and ORs.</p><p><strong>Let’s build the next query in steps and only hit <code class="highlighter-rouge">Submit</code> at the end of the query (full query is available at the bottom of the section)</strong></p><p>Go back to the Query page, and copy in the following query:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Read data from CSV</span>
<span class="kd">const</span> <span class="nx">csv</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Member type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Member_Type</span><span class="dl">"</span><span class="p">)</span>
<span class="p">).</span><span class="nx">remote</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://terminusdb.com/t/data/bike_tutorial.csv</span><span class="dl">"</span><span class="p">)</span>
<span class="c1">//Transform data into correct shape for insert</span>
<span class="kd">const</span> <span class="nx">wrangles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:integer</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Journey</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">),</span>       
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Bicycle</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_ID - v:End_ID @ v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike v:Bike from v:Start_Station to v:End_Station at v:Start_Time until v:End_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
<span class="p">];</span>
<span class="c1">//Combine with logical and</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">csv</span><span class="p">,</span> <span class="p">...</span><span class="nx">wrangles</span><span class="p">)</span>
</code></pre></div></div><p><img src="https://miro.medium.com/max/4478/1*MXJohHDXNIN6zuoBVjacnQ.png" alt="Result of import / clean data query" /></p><p>We’ll explain each of the steps in this query in turn. As a first step, we saved the part of the query that imports the data from CSV in a <code class="highlighter-rouge">const</code> variable named <code class="highlighter-rouge">csv</code>. Then we create a list of WOQL operators and save it in another constvariable called <code class="highlighter-rouge">wrangles</code>, we combine the two parts of the query with a <code class="highlighter-rouge">WOQL.and</code> operator.</p><p>The <code class="highlighter-rouge">wrangles</code> clause uses 3 WOQL functions to transform the data into the correct form for input. In each case, the function creates a new variable as output — the last argument in each case. The <code class="highlighter-rouge">idgen</code> function generates IDs for our three document types <code class="highlighter-rouge">Journey</code>, <code class="highlighter-rouge">Station</code>, and <code class="highlighter-rouge">Bicycle</code>. The first argument is the prefix that will be used, the second is a list of variables which combine to give a unique identity for the id. For example, in <code class="highlighter-rouge">Journey</code> we use 3 fields in the <code class="highlighter-rouge">csv</code> (<code class="highlighter-rouge">Start_ID</code>, <code class="highlighter-rouge">Start_Time</code> and <code class="highlighter-rouge">Bike</code>) to generate a unique id <code class="highlighter-rouge">Journey_ID</code>.</p><p>Besides generating IDs, we also create new fields with new data types, for example, we use <code class="highlighter-rouge">typecast</code> to cast <code class="highlighter-rouge">Duration</code> into <code class="highlighter-rouge">integer</code> and store it as <code class="highlighter-rouge">Duration_Cast</code>. We can also use <code class="highlighter-rouge">concat</code> to contract new text formatted with variables in the fields — for example, to create <code class="highlighter-rouge">Journey_Label</code>.</p><p>We’ll insert them in the graph by adding <code class="highlighter-rouge">triples</code>! Triples are the atomic data entity in the RDF data model. We add the following to the query:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">inputs</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">csv</span><span class="p">,</span> <span class="p">...</span><span class="nx">wrangles</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">inserts</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div><p>This is the clause that actually inserts the data into the structure that we defined on our schema.</p><ul><li>The <code class="highlighter-rouge">insert</code> function inserts a new node into the database with the id <code class="highlighter-rouge">Journey_ID</code> and type <code class="highlighter-rouge">Journey</code> we add properties like <code class="highlighter-rouge">start_time</code>, <code class="highlighter-rouge">end_time</code>, <code class="highlighter-rouge">duration</code>, <code class="highlighter-rouge">start_station</code>, <code class="highlighter-rouge">end_station</code> and <code class="highlighter-rouge">label</code> and put the variables produced above in their correct spots.</li><li>For <code class="highlighter-rouge">Start_Station_URL</code>, <code class="highlighter-rouge">End_Station_URL</code> and <code class="highlighter-rouge">Bike_URL</code>, we assign a <code class="highlighter-rouge">type</code> and <code class="highlighter-rouge">label</code> for each of them.</li></ul><p>Finally, we have to put all of the above together and create the query that reads the data from the csv, do the data wrangling and add them in the graph as triples. We add this to complete the query:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="nx">inputs</span><span class="p">,</span> <span class="nx">inserts</span><span class="p">);</span>
</code></pre></div></div><p>and click <code class="highlighter-rouge">submit</code>. Remember, this is getting the data in to our graph so you won’t have a query output just yet. It should look something like this:</p><p><img src="https://miro.medium.com/max/2688/1*fKSEaLdiwPdpNH_QOOiStw.png" alt="query result" /> We are working to make it prettier!</p><p>Or this if you have the view pane open:</p><p><img src="https://miro.medium.com/max/2710/1*x-Pj1FTVVeVLqll7e3EGuw.png" alt="open view pane" /> The little x closes the view pane and the button opens it (both circled in red)</p><p>The full query in all it’s glory and in easy to copy format:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">csv</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End date</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Member type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Member_Type</span><span class="dl">"</span><span class="p">)</span>
<span class="p">).</span><span class="nx">remote</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://terminusdb.com/t/data/bike_tutorial.csv</span><span class="dl">"</span><span class="p">)</span>
<span class="c1">//Clean data for insert</span>
<span class="kd">const</span> <span class="nx">wrangles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:integer</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Journey</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">),</span>       
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Bicycle</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_ID - v:End_ID @ v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike v:Bike from v:Start_Station to v:End_Station at v:Start_Time until v:End_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
<span class="p">];</span>
<span class="c1">//combine inputs</span>
<span class="kd">const</span> <span class="nx">inputs</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">csv</span><span class="p">,</span> <span class="p">...</span><span class="nx">wrangles</span><span class="p">)</span>
<span class="c1">//generate data to be inserted</span>
<span class="kd">const</span> <span class="nx">inserts</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>
<span class="c1">//Combine inputs and inserts with when clause</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="nx">inputs</span><span class="p">,</span> <span class="nx">inserts</span><span class="p">);</span>
</code></pre></div></div><p>and click <code class="highlighter-rouge">submit</code>.</p><p>Now we have the data in our graph❗️ And we can start querying ( 💪🏼).</p><p>If you have more than one CSV that you want to load in programmatically, you can so easily with a script and our API. You can find both Javascript and Python scripts that cover and extend this tutorial at: <a href="https://github.com/terminusdb/terminus-tutorials/blob/master/bike-tutorial/javascript/index.html">https://github.com/terminusdb/terminus-tutorials/tree/master/bike-tutorial</a></p><blockquote><p>Extra: Check out how to <a href="http://loading%20your%20local%20files%20in%20terminusdb/">Load your local files in TerminusDB</a></p></blockquote><hr /><h2 id="lets-query-the-data-and-visualise-it">Let’s Query The Data and Visualise It</h2><p>Back to the query page — again input into the WOQL.js query builder:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Label</span><span class="dl">"</span><span class="p">).</span><span class="nx">and</span><span class="p">(</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">scm:Journey</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Label</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Label</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div><p>click <code class="highlighter-rouge">Submit</code></p><p>You should see the query returning a table:</p><p><img src="https://miro.medium.com/max/2716/1*gv6sXsUvEjXteY0wZqgYfA.png" alt="query returns a table" /></p><p>Here we used <code class="highlighter-rouge">select</code> to filter out the variables (those starting with <code class="highlighter-rouge">v:</code>) that appear in our output. Then we used <code class="highlighter-rouge">and</code> to link all the conditions we want to include, as you can see there are lot’s of <code class="highlighter-rouge">triples</code> to be conditioned. The ones with <code class="highlighter-rouge">opt()</code> means that they are optional — it will be ignored if that data is missing (instead of returning an error — very handy).</p><p>The query can be translated as below:</p><ol><li>select all the <code class="highlighter-rouge">Journeys</code></li><li>and all the <code class="highlighter-rouge">start_stations</code> of all the <code class="highlighter-rouge">Journeys</code> (let’s call them <code class="highlighter-rouge">Start</code>)</li><li>and, if any, all the <code class="highlighter-rouge">labels</code> of the <code class="highlighter-rouge">start_stations</code> (let’s call them <code class="highlighter-rouge">Start_Label</code>)</li><li>and all the <code class="highlighter-rouge">end_stations</code> of all the <code class="highlighter-rouge">Journeys</code> (let’s call them <code class="highlighter-rouge">End</code>)</li><li>and, if any, all the <code class="highlighter-rouge">labels</code> of the <code class="highlighter-rouge">end_stations</code> (let’s call them <code class="highlighter-rouge">End_Label</code>)</li><li>and all the <code class="highlighter-rouge">journey_bicycles</code> of all the <code class="highlighter-rouge">Journeys</code> (let’s call them <code class="highlighter-rouge">Bike</code>)</li></ol><p>So we now have a query that gives us a result, but it doesn’t mean much in a table — we can click the graph button and that gives us a basic graph:</p><p><img src="https://miro.medium.com/max/2742/1*uKREL4NhiB3MdDAQQx9Iog.png" alt="result as graph" /></p><p>We want to change the view and turn the query output into a graph visualisation that give us insights about bike journeys in Washington D.C.</p><p>So lets click on the view button beside the graph (circled in red):</p><p><img src="https://miro.medium.com/max/2742/1*T2kI7TkDtmjsbQLjKXarqw.png" alt="click on the view button" /></p><p>You should get this:</p><p><img src="https://miro.medium.com/max/2730/1*1xr6zU_ezS5dpB5D2Pwk3w.png" alt="start editing the view script" /></p><p>In the view text box (the query builder is still visible above) input the following (remembering to delete the text already in the box):</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">view</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">graph</span><span class="p">();</span>
<span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start_Label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">End_Label</span><span class="dl">"</span><span class="p">).</span><span class="nx">hidden</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="dl">"</span><span class="s2">End</span><span class="dl">"</span><span class="p">).</span><span class="nx">icon</span><span class="p">({</span><span class="na">color</span><span class="p">:</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="na">unicode</span><span class="p">:</span> <span class="dl">"</span><span class="se">\</span><span class="s2">uf84a</span><span class="dl">"</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Label</span><span class="dl">"</span><span class="p">).</span><span class="nx">size</span><span class="p">(</span><span class="mi">25</span><span class="p">).</span><span class="nx">charge</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start</span><span class="dl">"</span><span class="p">).</span><span class="nx">icon</span><span class="p">({</span><span class="na">color</span><span class="p">:</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="na">unicode</span><span class="p">:</span> <span class="dl">"</span><span class="se">\</span><span class="s2">uf84a</span><span class="dl">"</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Label</span><span class="dl">"</span><span class="p">).</span><span class="nx">size</span><span class="p">(</span><span class="mi">25</span><span class="p">).</span><span class="nx">collisionRadius</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nx">view</span><span class="p">.</span><span class="nx">edge</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">End</span><span class="dl">"</span><span class="p">).</span><span class="nx">weight</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div></div><p>And 💥 we have 🚲s: — a graphical model of all the journeys in the dataset between bike station. OK — it’s bike journey data between Washington D.C. stations, so not entirely relevant to all users, but you have completed the basics of TerminusDB and WOQL. You can now start to introduce more complex, more relevant data.</p><p><img src="https://miro.medium.com/max/1640/1*cbF3mvAVCJAOS09F-FHMCw.png" alt="graph showing all bike journeys" /></p><p>So what did we do here? First we use <code class="highlighter-rouge">hidden(true)</code> to hide some nodes — too many nodes complicate the graph with information we don’t need to see right now.</p><p>Updating <code class="highlighter-rouge">color</code> and <code class="highlighter-rouge">unicode</code> changed the colours and inserted icons size set the icon <code class="highlighter-rouge">size</code>, making the nodes a little bigger so they pop, and <code class="highlighter-rouge">charge</code> pushes the nodes away from each other so the view isn’t too cluttered.</p><p>Setting <code class="highlighter-rouge">text</code> in the graph so when you hover over the node you get the label — in this case the names of bike stations in Washington D.C. We use <code class="highlighter-rouge">collisionRadius</code> to determine the radius of the node in terms of collisions. Finally, we use <code class="highlighter-rouge">view.edge</code> to create lines between nodes setting what the end points are and set the weight to determine how dark the edges are — we don’t want the edges to dominate the view.</p><h2 id="lets-put-it-in-my-website">Let’s Put it in My Website</h2><p>To finish off the tutorial, let’s take the data and put it in our website. You can use the files from <a href="https://github.com/terminusdb/terminus-tutorials/blob/master/bike-tutorial/javascript/bike-tutorial.js">https://github.com/terminusdb/terminus-tutorials/blob/master/bike-tutorial/javascript/bike-tutorial.js</a> and <a href="https://github.com/terminusdb/terminus-tutorials/blob/master/bike-tutorial/javascript/bike-tutorial.html">https://github.com/terminusdb/terminus-tutorials/blob/master/bike-tutorial/javascript/bike-tutorial.html</a> as examples. The basic idea is simple — you create a HTML page and include the TerminusDB libraries and dependencies in the header</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://terminusdb.github.io/terminus-dashboard/dist/terminus-dashboard.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>                           <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://d3js.org/d3.v5.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>                           <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>                           <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"</span><span class="nt">&gt;</span>
</code></pre></div></div><p>Then, finally, we can use the library to load the query and view above and inject it into the DOM of our HTML page:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">showView</span><span class="p">(</span><span class="nx">client</span><span class="p">){</span>
    <span class="kd">const</span> <span class="nx">WOQL</span> <span class="o">=</span> <span class="nx">TerminusClient</span><span class="p">.</span><span class="nx">WOQL</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">View</span> <span class="o">=</span> <span class="nx">TerminusClient</span><span class="p">.</span><span class="nx">View</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">woql</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Start</span><span class="err">”</span><span class="p">,</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">S_Lab</span><span class="err">”</span><span class="p">,</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">End</span><span class="err">”</span><span class="p">,</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">E_Lab</span><span class="err">”</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">and</span><span class="p">(</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Journey</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">type</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">scm</span><span class="p">:</span><span class="nx">Journey</span><span class="err">”</span><span class="p">),</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Journey</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">start_station</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Start</span><span class="err">”</span><span class="p">),</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Start</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">label</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">S_Lab</span><span class="err">”</span><span class="p">),</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Journey</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">end_station</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">End</span><span class="err">”</span><span class="p">),</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">End</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">label</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">E_Lab</span><span class="err">”</span><span class="p">),</span>
        <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Journey</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">journey_bicycle</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">Bike</span><span class="err">”</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="kd">let</span> <span class="nx">view</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">graph</span><span class="p">();</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="err">“</span><span class="nx">S_Lab</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">E_Lab</span><span class="err">”</span><span class="p">).</span><span class="nx">hidden</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="err">“</span><span class="nx">End</span><span class="err">”</span><span class="p">).</span><span class="nx">icon</span><span class="p">({</span><span class="na">color</span><span class="p">:</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="na">unicode</span><span class="p">:</span> <span class="err">“\</span><span class="nx">uf84a</span><span class="err">”</span><span class="p">})</span>
        <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">E_Lab</span><span class="err">”</span><span class="p">).</span><span class="nx">size</span><span class="p">(</span><span class="mi">25</span><span class="p">).</span><span class="nx">charge</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">node</span><span class="p">(</span><span class="err">“</span><span class="nx">Start</span><span class="err">”</span><span class="p">).</span><span class="nx">icon</span><span class="p">({</span><span class="na">color</span><span class="p">:</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="na">unicode</span><span class="p">:</span> <span class="err">“\</span><span class="nx">uf84a</span><span class="err">”</span><span class="p">})</span>
        <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="err">“</span><span class="nx">v</span><span class="p">:</span><span class="nx">S_Lab</span><span class="err">”</span><span class="p">).</span><span class="nx">size</span><span class="p">(</span><span class="mi">25</span><span class="p">).</span><span class="nx">collisionRadius</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">edge</span><span class="p">(</span><span class="err">“</span><span class="nx">Start</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">End</span><span class="err">”</span><span class="p">).</span><span class="nx">weight</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">tv</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TerminusDashboard</span><span class="p">.</span><span class="nx">TerminusViewer</span><span class="p">(</span><span class="nx">client</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">tv</span><span class="p">.</span><span class="nx">getResult</span><span class="p">(</span><span class="nx">woql</span><span class="p">,</span> <span class="nx">view</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="err">‘</span><span class="nx">target</span><span class="err">’</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">getAsDOM</span><span class="p">());</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">load</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div><p>You can experiment with the query to find different things in the data, and the view to show it in different ways — for example, how would you find the routes covered by a specific bike?</p><p>Well done — you are now a level 1 Terminator!</p></div><ul class="post__social"><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-facebook"></i></a></li><li><a href="https://twitter.com/intent/tweet?&text=My First TerminusDB Graph Visualisation — Bike Share Data+https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/+by+Luke Feeney" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://plus.google.com/share?url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-google-plus"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?mini=true&source=My First TerminusDB Graph Visualisation — Bike Share Data&summary=&url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-linkedin"></i></a></li><li><a href="https://www.stumbleupon.com/badge/?url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-stumbleupon"></i></a></li><li><a href="https://www.reddit.com/submit?url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-reddit-alien"></i></a></li><li><a href="https://www.tumblr.com/share/link?url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-tumblr"></i></a></li><li><a href="https://www.pinterest.com/pin/create/link/?description=&media=&url=https://terminusdb.github.io/terminusdb-blog//2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/" target="_blank"><i class="fa fa-pinterest"></i></a></li></ul></div></div><div class="section-padding--none"><div class="grid"><hr class="sep"/></div></div><div class="section-padding"><div class="grid-small"> <span class="post__author">Posted by <a href="https://github.com/luke-feeney" title="More By Luke Feeney">Luke Feeney</a></span><p class="post__bio">Building the database of the future.</p></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://terminusdb.github.io/terminusdb-blog//2020/01/15/are-you-supporting-the-right-politician/"><figure class="related__img"> <img src="https://miro.medium.com/max/7618/1*00M5JbvyMgh3MRz7uQf-kw.jpeg" alt="Are you supporting the right politician?"/></figure><div><h2 class="related__text">Are you supporting the right politician?</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://terminusdb.github.io/terminusdb-blog//2019/11/29/join-the-data-centric-revolution-we-can-help/"><figure class="related__img"> <img src="https://miro.medium.com/max/2514/0*BqfeLvqCEA1CeDZN.png" alt="Join the Data-Centric Revolution (we can help!)"/></figure><div><h2 class="related__text">Join the Data-Centric Revolution (we can help!)</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://terminusdb.github.io/terminusdb-blog//2019/11/05/storing-data-like-git-terminusdb/"><figure class="related__img"> <img src="https://miro.medium.com/max/8000/1*23WsqANJv5IS4ar-LGU2sw.jpeg" alt="Storing data like git — TerminusDB"/></figure><div><h2 class="related__text">Storing data like git — TerminusDB</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get a weekly email of posts I’ve added to the site.</p><form method="POST" action="&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__tags"><li><a class="footer__link" href="/tag/database">Database</a></li><li><a class="footer__link" href="/tag/data">Data</a></li><li><a class="footer__link" href="/tag/graph">Graph</a></li><li><a class="footer__link" href="/tag/graph-database">Graph Database</a></li><li><a class="footer__link" href="/tag/type-theory">Type Theory</a></li></ul><ul class="footer__social"><li><a href="https://twitter.com/TerminusDB" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://github.com/terminusdb" target="_blank"><i class="fa fa-github"></i></a></li><li><a href="http://bit.ly/terminusdb-slack" target="_blank"><i class="fa fa-slack"></i></a></li><li><a href="https://www.youtube.com/channel/UC5kZt8pP-FM0u-R0BQr78YA" target="_blank"><i class="fa fa-youtube"></i></a></li></ul></div></div></footer><section class="contact popup"><div class="popup__close"><div class="popup__exit"></div></div><div class="contact__container popup__container"><div class="contact__img"><figure class="absolute-bg" style="background-image: url();"></figure></div><div class="contact__content"><div class="contact__mast section-padding--half"><div class="grid"><h2>Contact</h2></div></div><div class="section-padding--none"><hr class="sep"/></div><div class="contact__form section-padding--half"><div class="grid-xlarge"> <form id="form" class="form" action="" method="POST"><div class="form__subcontainer"><div> <label for="form-first-name">First Name</label> <input type="text" name="first-name" id="form-first-name" required></div><div> <label for="form-last-name">Last Name</label> <input type="text" name="last-name" id="form-last-name" required></div></div><div> <label for="form-email">E-Mail</label> <input type="email" name="email" id="form-email" required></div><div> <label for="form-message">Message</label> <textarea name="message" id="form-message" rows="3"></textarea></div><div class="form__submit"><div class="form__btn"> <input type="submit" value="Send"></div></div><p class="form__message"></p></form></div></div></div></div></section><script src="/assets/js/app.min.js"></script></body></html>
  